<!DOCTYPE html>
<html>
    <head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    </head>
    <body>
        <input type="file" id="files" name="files[]" accept=".txt"/>
        
        <div id="plotDiv"></div>
        <script>
            files.addEventListener
            ('change', async ({target:{files:[file]}}) =>
            {
            if(!file) return;
            const text = await file.text();
            const numbers = text
                .trim()
                .split(/\r?\n/)
                .map(
                line => line
                    .trim()
                    .split(/\s+/)
                    .map(Number)
                );

                var Dataset=numbers[8];
                cnt2=8

                function getData() {
                    cnt2++
                    return Dataset[cnt2];
                }


                var plotDiv = document.getElementById('plotDiv');

                var data = [{
                    x: [ new Date().getTime() / 1000 ],
                    y: [getData()]
                }];

                Plotly.plot(plotDiv, data, {});

                setInterval(function(){
                    var update = {
                        x: [[ new Date().getTime() - 34000]],
                        y: [[ getData()]]
                    };

                    Plotly.extendTraces(plotDiv, update, [0], 500);
                }, 0);

         }, false);
        </script>

     </body>
</html>